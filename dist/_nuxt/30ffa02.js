(window.webpackJsonp=window.webpackJsonp||[]).push([[74,63],{551:function(e,t,n){"use strict";n.r(t);var o=[function(){var e=this._self._c;return e("div",[e("img",{staticClass:"w-full max-w-[300px] d-block m-auto",attrs:{src:n(552)}})])}],r={},c=n(15),component=Object(c.a)(r,(function(){this._self._c;return this._m(0)}),o,!1,null,null,null);t.default=component.exports},552:function(e,t,n){e.exports=n.p+"img/no-data.b4c1a36.svg"},754:function(e,t,n){"use strict";n.r(t);n(21),n(22),n(36),n(50),n(51),n(25),n(13),n(30);var o=n(4),r=n(18),c=(n(44),n(3));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={layout:"dashboard",components:{NoData:n(551).default},mounted:function(){this.getConversations()},data:function(){return{conversations:[],addChatConversations:{},updateChatConversations:{},openAddConversationsPopup:!1,deleteConversationPopup:!1,openUpdateConversationPopup:!1}},methods:{openDeletePopup:function(e){this.deleteConversationPopup=!0,this.updateChatConversations=d({},e)},openUpdatePopup:function(e){this.updateChatConversations=d({},e),this.openUpdateConversationPopup=!0,console.log("conversation",e)},saveDeleteConversation:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,n=c.Loading.service({fullscreen:!0,background:"#ffffffe6"}),t.next=5,e.$axios.delete("/conversation-chat/".concat(e.updateChatConversations._id));case 5:c.Notification.success({title:"Success",message:"The Conversation deleted successfully"}),e.$router.push("/dashboard/chat"),e.deleteConversationPopup=!1,window.scrollTo({top:0,behavior:"smooth"}),e.getConversations(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),c.Notification.error({title:"Error",message:"There is something wrong"});case 15:return t.prev=15,e.$nextTick((function(){n.close()})),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},saveUpdateConversation:function(){var e=this;this.$refs.updateChatConversationsRef.validate(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=19;break}return o=null,t.prev=2,o=c.Loading.service({fullscreen:!0,background:"#ffffffe6"}),t.next=6,e.$axios.put("/conversation-chat/".concat(e.updateChatConversations._id));case 6:c.Notification.success({title:"Success",message:"The Conversations updated successfully"}),e.$router.push("/dashboard/chat"),e.openUpdateConversationPopup=!1,window.scrollTo({top:0,behavior:"smooth"}),e.getConversations(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),c.Notification.error({title:"Error",message:"There is something wrong"});case 16:return t.prev=16,e.$nextTick((function(){o.close()})),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(e){return t.apply(this,arguments)}}())},saveAddConversation:function(){var e=this;this.$refs.addChatConversationsRef.validate(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=19;break}return o=null,t.prev=2,o=c.Loading.service({fullscreen:!0,background:"#ffffffe6"}),t.next=6,e.$axios.post("/conversation-chat",e.addChatConversations);case 6:c.Notification.success({title:"Success",message:"The Conversations added successfully"}),e.$router.push("/dashboard/chat"),e.openAddConversationsPopup=!1,window.scrollTo({top:0,behavior:"smooth"}),e.getConversations(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),c.Notification.error({title:"Error",message:"There is something wrong"});case 16:return t.prev=16,e.$nextTick((function(){o.close()})),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})));return function(e){return t.apply(this,arguments)}}())},getConversations:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,t.prev=1,n=c.Loading.service({fullscreen:!0,background:"#ffffffe6"}),t.next=5,e.$axios.get("/conversation-chat");case 5:o=t.sent,e.conversations=o.data;case 7:return t.prev=7,e.$nextTick((function(){n.close()})),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[1,,7,10]])})))()}}},f=v,h=n(15),component=Object(h.a)(f,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"flex items-center justify-between mb-5 flex-wrap gap-[10px]"},[t("h5",{staticClass:"text-2xl font-semibold mb-0"},[e._v("Chats Conversations")]),e._v(" "),t("div",{staticClass:"flex gap-3 items-center"},[t("div",{staticClass:"flex gap-x-[5px] items-center"},[t("img",{attrs:{src:n(331),alt:""}}),e._v(" "),"ar"===e.$i18n.locale?t("button",{on:{click:function(t){return e.$i18n.setLocale("en")}}},[e._v("EN")]):e._e(),e._v(" "),"en"===e.$i18n.locale?t("button",{on:{click:function(t){return e.$i18n.setLocale("ar")}}},[e._v("AR")]):e._e()]),e._v(" "),t("nuxt-link",{staticClass:"bg-[#4f46e5] hover:bg-[#4f46e5ab] focus:outline-none text-white p-2 rounded-xl",attrs:{tag:"button",to:"/dashboard/chat/questions"}},[e._v("Common Questions")])],1)]),e._v(" "),t("button",{staticClass:"bg-[#4f46e5] hover:bg-[#4f46e5ab] focus:outline-none text-white p-2 rounded-xl",on:{click:function(t){e.openAddConversationsPopup=!0}}},[e._v("\n    Add Conversation\n  ")]),e._v(" "),e.conversations.length>0?t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.conversations}},[t("el-table-column",{attrs:{prop:"name",label:"Name",width:"300"}}),e._v(" "),t("el-table-column",{attrs:{prop:"sender",label:"Sender"}}),e._v(" "),t("el-table-column",{attrs:{prop:"participant_one",label:"Participant"}}),e._v(" "),t("el-table-column",{attrs:{label:"Actions",width:"80"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",{staticClass:"flex gap-[10px] items-center"},[t("button",{on:{click:function(t){return e.$router.push("/dashboard/chat/".concat(n.row._id))}}},[t("i",{staticClass:"el-icon-chat-line-round"})]),e._v(" "),t("button",{staticClass:"text-red",on:{click:function(t){return e.openDeletePopup(n.row)}}},[t("i",{staticClass:"el-icon-delete"})])])]}}],null,!1,1239168770)})],1)],1):t("NoData"),e._v(" "),t("el-dialog",{attrs:{title:"Add Chat Conversation",visible:e.openAddConversationsPopup,width:"30%"},on:{"update:visible":function(t){e.openAddConversationsPopup=t}}},[t("el-form",{ref:"addChatConversationsRef",attrs:{model:e.addChatConversations}},[t("div",[t("el-form-item",{attrs:{prop:"name",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"name"}},[e._v("Conversation Name")]),e._v(" "),t("el-input",{attrs:{type:"text"},model:{value:e.addChatConversations.name,callback:function(t){e.$set(e.addChatConversations,"name",t)},expression:"addChatConversations.name"}})],1)],1),e._v(" "),t("div",[t("el-form-item",{attrs:{prop:"sender",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"sender"}},[e._v("Conversation Sender")]),e._v(" "),t("el-input",{attrs:{type:"textarea"},model:{value:e.addChatConversations.sender,callback:function(t){e.$set(e.addChatConversations,"sender",t)},expression:"addChatConversations.sender"}})],1)],1)]),e._v(" "),t("span",{staticClass:"dialog-footer flex gap-[5px]",attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"bg-[#4f46e5] hover:bg-[#4f46e5ab] focus:outline-none text-white p-1 px-2 rounded-md",on:{click:function(t){return t.preventDefault(),e.saveAddConversation()}}},[e._v("Add")]),e._v(" "),t("button",{staticClass:"bg-[#fa4848] hover:bg-[#fa4848a3] focus:outline-none text-white p-1 px-2 rounded-md",on:{click:function(t){e.openAddConversationPopup=!1}}},[e._v("Cancel")])])],1),e._v(" "),t("el-dialog",{attrs:{title:"Delete Question",visible:e.deleteConversationPopup,width:"30%"},on:{"update:visible":function(t){e.deleteConversationPopup=t}}},[t("h5",{staticClass:"text-md"},[t("i",{staticClass:"text-xl text-[red] el-icon-delete"}),e._v(" Are you sure you want to delete this conversation ?")]),e._v(" "),t("span",{staticClass:"dialog-footer flex gap-[5px]",attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"bg-[#4f46e5] hover:bg-[#4f46e5ab] focus:outline-none text-white p-1 px-2 rounded-md",on:{click:function(t){e.deleteConversationPopup=!1}}},[e._v("Cancel")]),e._v(" "),t("button",{staticClass:"bg-[#fa4848] hover:bg-[#fa4848a3] focus:outline-none text-white p-1 px-2 rounded-md",on:{click:function(t){return e.saveDeleteConversation()}}},[e._v("Delete")])])]),e._v(" "),t("el-dialog",{attrs:{title:"Update Chat Conversation",visible:e.openUpdateConversationPopup,width:"30%"},on:{"update:visible":function(t){e.openUpdateConversationPopup=t}}},[t("el-form",{ref:"updateChatConversationsRef",attrs:{model:e.updateChatConversations}},[t("div",[t("el-form-item",{attrs:{prop:"name",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"name"}},[e._v("Conversation Name")]),e._v(" "),t("el-input",{attrs:{type:"text"},model:{value:e.updateChatConversations.name,callback:function(t){e.$set(e.updateChatConversations,"name",t)},expression:"updateChatConversations.name"}})],1)],1),e._v(" "),t("div",[t("el-form-item",{attrs:{prop:"sender",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"sender"}},[e._v("Conversation Sender")]),e._v(" "),t("el-input",{attrs:{type:"textarea"},model:{value:e.updateChatConversations.sender,callback:function(t){e.$set(e.updateChatConversations,"sender",t)},expression:"updateChatConversations.sender"}})],1)],1)]),e._v(" "),t("span",{staticClass:"dialog-footer flex gap-[5px]",attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"bg-[#4f46e5] hover:bg-[#4f46e5ab] focus:outline-none text-white p-1 px-2 rounded-md",on:{click:function(t){return e.saveUpdateConversation()}}},[e._v("Update")]),e._v(" "),t("button",{staticClass:"bg-[#fa4848] hover:bg-[#fa4848a3] focus:outline-none text-white p-1 px-2 rounded-md",on:{click:function(t){e.openUpdateConversationPopup=!1}}},[e._v("Cancel")])])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);