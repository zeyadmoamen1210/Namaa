(window.webpackJsonp=window.webpackJsonp||[]).push([[68,3],{574:function(e,t,l){var content=l(612);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(49).default)("7ba83122",content,!0,{sourceMap:!1})},611:function(e,t,l){"use strict";l(574)},612:function(e,t,l){var r=l(48)((function(i){return i[1]}));r.push([e.i,".el-loading-mask .el-loading-spinner svg{margin:auto!important}",""]),r.locals={},e.exports=r},665:function(e,t,l){"use strict";l.r(t);l(22);var r=l(6),n=(l(47),l(3)),o={data:function(){return{fileList:[],addGallery:{tag:"images"}}},methods:{addTheGallery:function(){var e=this;this.$refs.addGalleryRef.validate(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(l){var r,o,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=26;break}if(0!==e.fileList.length){t.next=4;break}return n.Notification.error({title:"Error",message:"You must add icon for that news"}),t.abrupt("return");case 4:return(o=new FormData).append("nameAR",e.addGallery.nameAR),o.append("nameEN",e.addGallery.nameEN),e.addGallery.date&&o.append("date",new Date(e.addGallery.date).toLocaleString()),o.append("tag",e.addGallery.tag),o.append("cover",null===(r=e.fileList)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.raw),d=null,t.prev=11,d=n.Loading.service({fullscreen:!0,background:"#ffffffe6"}),t.next=15,e.$axios.post("/gallery-folders",o);case 15:n.Notification.success({title:"Success",message:"The gallery added successfully"}),e.$router.push("/dashboard/gallery"),window.scrollTo({top:0,behavior:"smooth"}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(11),n.Notification.error({title:"Error",message:"There is something wrong"});case 23:return t.prev=23,e.$nextTick((function(){d.close()})),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[11,20,23,26]])})));return function(e){return t.apply(this,arguments)}}())},handleRemove:function(e,t){this.fileList=t,console.log("Remove: ",e,this.fileList)},onChange:function(e,t){this.fileList=t,console.log("Change: ",e,this.fileList)}}},d=o,c=(l(611),l(20)),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",[e._m(0),e._v(" "),t("el-form",{ref:"addGalleryRef",attrs:{model:e.addGallery}},[t("div",{staticClass:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-2 gap-x-[10px]"},[t("el-form-item",{attrs:{prop:"nameAR",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"nameAR"}},[e._v("Name In arabic")]),e._v(" "),t("el-input",{attrs:{id:"nameAR"},model:{value:e.addGallery.nameAR,callback:function(t){e.$set(e.addGallery,"nameAR",t)},expression:"addGallery.nameAR"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"nameEN",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"nameEN"}},[e._v("News In english")]),e._v(" "),t("el-input",{attrs:{id:"nameEN"},model:{value:e.addGallery.nameEN,callback:function(t){e.$set(e.addGallery,"nameEN",t)},expression:"addGallery.nameEN"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"tag",rules:[{required:!0,message:"This field is required"}]}},[t("label",{attrs:{for:"tag"}},[e._v("Tag")]),e._v(" "),t("el-select",{staticStyle:{width:"100%"},attrs:{id:"tag"},model:{value:e.addGallery.tag,callback:function(t){e.$set(e.addGallery,"tag",t)},expression:"addGallery.tag"}},e._l([{name:"Images",value:"images"},{name:"Videos",value:"videos"}],(function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"mb-3 block text-sm"},[e._v("Cover Image")]),e._v(" "),t("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","auto-upload":!1,"on-remove":e.handleRemove,"on-change":e.onChange,"file-list":e.fileList,accept:"image/*"}},[t("i",{staticClass:"el-icon-upload"}),e._v(" "),t("div",{staticClass:"el-upload__text"},[e._v("Drop file here or "),t("em",[e._v("click to upload")])]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("jpg/png files with a size less than 500kb")])])],1)]),e._v(" "),t("div",{staticClass:"flex flex-row-reverse mt-3"},[t("button",{staticClass:"bg-[#4f46e5] hover:bg-[#4f46e5ab] focus:outline-none text-white p-2 rounded-xl",on:{click:function(t){return e.addTheGallery()}}},[e._v("Add Gallery")])])],1)}),[function(){var e=this._self._c;return e("h3",{staticClass:"font-bold text-xl my-3"},[e("i",{staticClass:"el-icon-plus"}),this._v(" Add New Gallery")])}],!1,null,null,null);t.default=component.exports},730:function(e,t,l){"use strict";l.r(t);var r={components:{AddGallery:l(665).default},layout:"dashboard"},n=l(20),component=Object(n.a)(r,(function(){var e=this._self._c;return e("div",[e("AddGallery")],1)}),[],!1,null,null,null);t.default=component.exports}}]);